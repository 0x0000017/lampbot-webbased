<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport"
			  content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<link rel="stylesheet" href="style.css">
		<title>LAMPBot Panel</title>
	</head>
	<body>
		<br><br><br>
		<div class ="container">
			<div class = "left">
				<table>
					%s
				</table>
			</div>
			<div class ="center">
				<div class="chatbox__header">
					<h1>LAMPBot Panel</h1>
				</div>
			<br>
			<br>
			<div class ="content">
				<h2>Add Responses</h2>
				<br><br>
				<form method="POST">
					<p>
						Tags
					</p>
					<textarea id = "addTag" placeholder ="Enter the closest tag in that question..."></textarea><br><br>
					<p>
						User query:
					</p>
					<textarea id = "addQuery" placeholder="Enter the question you want to add..."></textarea>
					<br><br>
					<p>
						LAMPBot's response
					</p>
					<textarea id = "addResponse" placeholder="Enter the response you want LAMPBOT to reply..."></textarea>
					<br><br>
					
					<input type ="submit" value ="Submit" onclick="pushVal()"></button>	
				</form>
			</div>
		</div>
		<div class = "right">

		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type ="text/javascript">
			function pushVal(){
				var aTag = document.getElementById("addTag").value;
				console.log(aTag)
				var aQuery = document.getElementById("addQuery").value;
				console.log(aQuery)
				var aResp = document.getElementById	("addResponse").value;
				console.log(aResp)

				var addNewRes = {
					"tag" : aTag,
					"patterns": aQuery,
					"responses": aResp
				}
				$.ajax({
					url: "http://127.0.0.1:5000/uploadq",
					type: "POST",
					contentType: "application/json",
					data: JSON.stringify(addNewRes),
					success: function(data) {
						console.log(addNewRes)
					}
				})
				
			}
		</script>
	</body>
</html>